<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Setup Guide  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>


    <a title="Setup Guide  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          SnapscreenKit Docs
        </a>
         (100% documented)
      </p>
    
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">SnapscreenKit Reference</a>
      <img class="carat" src="img/carat.png" />
      Setup Guide  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Guides.html">Guides</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="setup-guide.html">Setup Guide</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SnapscreenAccessToken.html">SnapscreenAccessToken</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SnapscreenAccessTokenHolder.html">SnapscreenAccessTokenHolder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SnapscreenKit.html">SnapscreenKit</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes.html#/c:objc(cs)SnapscreenNSLogLoggingHandler">SnapscreenNSLogLoggingHandler</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SnapscreenPageMetadata.html">SnapscreenPageMetadata</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SnapscreenSnapViewController.html">SnapscreenSnapViewController</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SnapscreenTvChannel.html">SnapscreenTvChannel</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SnapscreenTvSearchResult.html">SnapscreenTvSearchResult</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SnapscreenTvSearchResultEntry.html">SnapscreenTvSearchResultEntry</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SnapscreenWebSearchImageResult.html">SnapscreenWebSearchImageResult</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SnapscreenWebSearchResponse.html">SnapscreenWebSearchResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SnapscreenWebSearchResult.html">SnapscreenWebSearchResult</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SnapscreenWebSearchService.html">SnapscreenWebSearchService</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SnapscreenWebSearchSiteResult.html">SnapscreenWebSearchSiteResult</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SnapscreenWebSearchVideoResult.html">SnapscreenWebSearchVideoResult</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Constants.html">Constants</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Constants.html#/c:@SnapscreenKitVersionNumber">SnapscreenKitVersionNumber</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Constants.html#/c:@SnapscreenKitVersionString">SnapscreenKitVersionString</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Enums.html">Enums</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/SnapscreenErrorCode.html">SnapscreenErrorCode</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/SnapscreenWebSearchResultType.html">SnapscreenWebSearchResultType</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/SnapscreenKitDelegate.html">SnapscreenKitDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/SnapscreenLocationProvider.html">SnapscreenLocationProvider</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/SnapscreenLoggingHandler.html">SnapscreenLoggingHandler</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/SnapscreenSnapViewControllerDelegate.html">SnapscreenSnapViewControllerDelegate</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            
            <a href='#requirements' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='requirements'>Requirements</h2>

<p>SnapscreenKit requires at least iOS 8.</p>
<a href='#setup' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='setup'>Setup</h2>

<p>SnapscreenKit is provided as an iOS framework and bundles everything necessary for it to operate.</p>
<a href='#add-the-snapscreenkit-framework' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='add-the-snapscreenkit-framework'>Add the SnapscreenKit framework</h3>

<p>Drag the SnapscreenKit framework to your iOS project and add it as an <strong>Embedded Framework</strong> in your Build Phase (if not done automatically by Xcode).</p>
<a href='#add-the-snapscreenkit-resource-bundle' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='add-the-snapscreenkit-resource-bundle'>Add the SnapscreenKit Resource bundle</h3>

<p>Drag SnapscreenKit.bundle to your iOS project to include the necessary resources for SnapscreenKit. If you want to change localizations in SnapscreenKit, you can modify the Localizable.strings files in this bundle.</p>
<a href='#add-linker-flags' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='add-linker-flags'>Add linker flags</h3>

<p>Add the flags <strong>-lc++</strong> and <strong>-ObjC</strong> to the <em>&lsquo;Other Linker Flags&rsquo;</em> in your projects <em>Build Settings</em>.</p>
<a href='#obtain-a-client-id-and-secret' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='obtain-a-client-id-and-secret'>Obtain a client ID and secret</h3>

<p>Contact Snapscreen to get a clientID and secret for your application.</p>
<a href='#import-snapscreenkit' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='import-snapscreenkit'>Import SnapscreenKit</h3>

<p>Add the following line to all classes where you want to access the SnapscreenKit functionality.</p>
<pre class="highlight plaintext"><code>#import &lt;SnapscreenKit/SnapscreenKit.h&gt;
</code></pre>
<a href='#add-camera-permission-usage-description-if-necessary' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='add-camera-permission-usage-description-if-necessary'>Add Camera Permission Usage Description if necessary</h3>

<p>If you want to access the snapping functionality, starting with iOS 10 it is required by provide a usage description for the camera. This can be done by adding the key <strong>NSCameraUsageDescription</strong> in your application&rsquo;s Info.plist.</p>
<a href='#initialize-snapscreenkit' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h3 id='initialize-snapscreenkit'>Initialize SnapscreenKit</h3>

<p>In order to initialize SnapscreenKit, you need to call the following class method in your AppDelegate in application:didFinishLaunchingWithOptions:</p>
<pre class="highlight plaintext"><code>[SnapscreenKit sharedSnapscreenKitWithClientID: @"&lt;your-client-id&gt;" clientSecret: @"&lt;your-client-secret&gt;" testEnvironment: NO loggingHandler: nil locationProvider: nil delegate: &lt;delegate&gt;];
</code></pre>

<p>If you want to provide a Logging Handler or Location Provider, see the documentation for more information on how to do that. Both are not mandatory for SnapscreenKit to function.</p>

<p>Once you have initialized SnapscreenKit, you can also retrieve it by calling</p>
<pre class="highlight plaintext"><code>[SnapscreenKit sharedSnapscreenKit]
</code></pre>
<a href='#note-about-app-store-builds' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='note-about-app-store-builds'>Note about App Store builds</h2>

<p>For convenience the framework is a so-called <q>fat</q> binary that contains slices for simulator and device architectures. As there is an issue in Xcode that does not correctly strip the unnecessary architectures from a framework you might run into issues when trying to submit your application to the App Store with the framework containing the simulator architecture. To work around this, we recommend to include the following shell script (provided by the Realm project) as a Build Phase in your project to strip the unnecessary slices from your application. </p>

<p><a href="https://github.com/realm/realm-cocoa/blob/d59c86f11525f346c8e8db277fdbf2d9ff990d98/scripts/strip-frameworks.sh">https://github.com/realm/realm-cocoa/blob/d59c86f11525f346c8e8db277fdbf2d9ff990d98/scripts/strip-frameworks.sh</a></p>
<a href='#snapping' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='snapping'>Snapping</h2>

<p>In order to snap a TV image via SnapscreenKit, you need to first retrieve a SnapscreenSnapViewController by calling</p>
<pre class="highlight plaintext"><code>SnapscreenSnapViewController* snapViewController = [[SnapscreenKit sharedSnapscreenKit] instantiateSnapscreenSnapViewControllerWithDelegate: self];
</code></pre>

<p>If you want, you can customize several messages that are shown in the UI via the corresponding properties.</p>

<p>Once you have retrieved the view controller, it&rsquo;s best to present it modally inside a UINavigationController:</p>
<pre class="highlight plaintext"><code>[self presentViewController: [[UINavigationController alloc] initWithRootViewController: snapViewController] animated: YES completion: nil];
</code></pre>

<p>The SnapscreenSnapViewController will send callbacks to the delegate you pass and you are responsible for dismissing the ViewController once it&rsquo;s no longer needed. The ViewController does not dismiss itself in any situation.</p>
<a href='#web-search' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='web-search'>Web Search</h2>

<p>In order to perform a web search, you simply call the corresponding method for the result type you want to get on the SnapscreenWebSearchService that you can retrieve from SnapscreenKit:</p>
<pre class="highlight plaintext"><code>[[SnapscreenKit sharedSnapscreenKit].webSearchService searchSitesForSnapscreenTvChannelCode: &lt;channelCode&gt; query: @"&lt;your search query&gt;" timestamp: [SnapscreenKit sharedSnapscreenKit].currentSnapscreenTimestamp page: 0 size: 20 completion:(void (^_Nonnull)(SnapscreenWebSearchResponse&lt;NSArray&lt;SnapscreenWebSearchSiteResult*&gt;*&gt;* _Nullable response)) completionBlock {
        //Response object contains results, metadata and optional error if something went wrong
    }];
</code></pre>

<p>In case there are multiple pages of results (which is most likely the case), you simply pass the corresponding page number in the method call.</p>
<a href='#displaying-web-search-results' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='displaying-web-search-results'>Displaying Web Search Results</h2>

<p>When you are displaying a web search result, you need to use the <strong>visitURL</strong> of the corresponding SnapscreenWebSearchResult to resolve the actual result page and also have Snapscreen track the visit to this result. This is necessary to correctly provide feedback to Snapscreen in order to provide ranking and priorization for the web results.</p>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>&copy; 2016 <a class="link" href="https://snapscreen.com" target="_blank" rel="external">Snapscreen</a>. All rights reserved. (Last updated: 2016-10-19)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.7.2</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
